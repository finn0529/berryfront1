(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{cbd8:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticStyle:{padding:"50px","padding-top":"100px"}},[a("p",{staticStyle:{"font-size":"30px"}},[e._v("單號 "+e._s(e.order._id))]),a("p",[e._v(e._s(e.order.date))]),a("p",[e.order.pay?a("span",[e._v("已付款")]):a("span",[e._v("未付款")]),e.order.ship?a("span",{staticClass:"q-ml-lg"},[e._v("已出貨")]):a("span",{staticClass:"q-ml-lg"},[e._v("未出貨")])]),a("q-table",{staticStyle:{background:"none","box-shadow":"none"},attrs:{data:e.order.products,columns:e.columns,"row-key":"name","hide-bottom":"",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",[a("q-td",{staticClass:"text-center"},[t.row.product.image?a("img",{staticStyle:{height:"100px"},attrs:{src:t.row.product.image}}):e._e()]),a("q-td",{staticClass:"text-center"},[e._v(e._s(t.row.product.name))]),a("q-td",{staticClass:"text-center"},[e._v("NT$ "+e._s(t.row.product.price))]),a("q-td",{staticClass:"text-center"},[e._v(e._s(t.row.quantity))])],1)]}}])}),a("p",[e._v("訂購人： "+e._s(e.order.userInfo.name))]),a("p",[e._v("電話： "+e._s(e.order.userInfo.phone))]),a("p",[e._v("地址： "+e._s(e.order.userInfo.zipcode+e.order.userInfo.address))])],1)},r=[],n={data(){return{order:"",columns:[{name:"image",label:"圖片",align:"center"},{name:"pname",label:"商品名稱",align:"center"},{name:"price",label:"價格",align:"center"},{name:"quantity",label:"數量",align:"center"}]}},methods:{async updateOrder(e){e=!e;const t={pay:this.order.pay,ship:this.order.ship};try{const{data:e}=await this.api.patch("/orders/"+this.order._id,t,{headers:{authorization:"Bearer "+this.user.token}});this.order.push(e.result)}catch(a){console.log(a),this.$q.notify({message:a.response.data.message,type:"negative"})}}},async created(){if(this.$route.params.id)try{const{data:e}=await this.api.get("/orders/"+this.$route.params.id);this.order=e.result}catch(e){this.$q.notify({message:e.response.data.message,type:"negative"})}}},o=n,i=a("2877"),d=a("9989"),p=a("eaac"),c=a("bd08"),l=a("db86"),u=a("eebe"),h=a.n(u),g=Object(i["a"])(o,s,r,!1,null,null,null);t["default"]=g.exports;h()(g,"components",{QPage:d["a"],QTable:p["a"],QTr:c["a"],QTd:l["a"]})}}]);