(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"2ab2":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",[s("div",{staticClass:"row",staticStyle:{padding:"50px","padding-top":"150px"}},[s("div",{staticClass:"col"},[s("q-table",{ref:"table",attrs:{title:"Treats",data:e.orders,columns:e.columns,"row-key":"name","selected-rows-label":e.getSelectedString,selection:"multiple",selected:e.selected,pagination:e.pagination},on:{selection:e.onSelection,"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(t){return[s("q-tr",[s("q-td",[s("q-checkbox",{attrs:{dense:""},model:{value:t.selected,callback:function(s){e.$set(t,"selected",s)},expression:"props.selected"}})],1),s("q-td",[e._v(e._s(t.row._id))]),s("q-td",[e._v(e._s(t.row.date))]),s("q-td",[t.row.pay?s("p",[e._v("已付款")]):s("p",[e._v("未付款")])]),s("q-td",[t.row.ship?s("p",[e._v("已出貨")]):s("p",[e._v("未出貨")])]),s("q-td",[e._v("NT$ "+e._s(e.total(t.row)))])],1)]}}])})],1)])])},l=[],n={data(){return{pagination:{rowsPerPage:100},selected:[],lastIndex:null,columns:[{name:"orderNumber",align:"center",label:"訂單編號",sortable:!0},{name:"date",align:"center",label:"訂單日期",sortable:!0},{name:"payState",align:"center",label:"付款狀態",sortable:!0},{name:"shipState",align:"center",label:"出貨狀態",sortable:!0},{name:"total",align:"center",label:"總金額",sortable:!0}],orders:[]}},methods:{total(e){return e.products.reduce(((e,t)=>e+t.quantity*t.product.price),0)},getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} record${this.selected.length>1?"s":""} selected of ${this.data.length}`},onSelection({rows:e,added:t,evt:s}){if(0===e.length||0===this.$refs.table)return;const a=e[0],l=this.$refs.table.filteredSortedRows,n=l.indexOf(a),i=this.lastIndex;if(this.lastIndex=n,document.getSelection().removeAllRanges(),!0===this.$q.platform.is.mobile)s={ctrlKey:!0};else if(s!==Object(s)||!0!==s.shiftKey&&!0!==s.ctrlKey)return void(this.selected=!0===t?e:[]);const o=!0===t?e=>{const t=this.selected.indexOf(e);-1===t&&(this.selected=this.selected.concat(e))}:e=>{const t=this.selected.indexOf(e);t>-1&&(this.selected=this.selected.slice(0,t).concat(this.selected.slice(t+1)))};if(null===i||!0!==s.shiftKey)return void o(a);const r=i<n?i:n,c=i<n?n:i;for(let d=r;d<=c;d+=1)o(l[d])}},async created(){try{const{data:e}=await this.api.get("/orders/me",{headers:{authorization:"Bearer "+this.user.token}});this.orders=e.result}catch(e){this.$q.notify({message:e.response.data.message,type:"negative"})}}},i=n,o=s("2877"),r=s("9989"),c=s("eaac"),d=s("bd08"),p=s("db86"),h=s("8f8e"),u=s("eebe"),b=s.n(u),g=Object(o["a"])(i,a,l,!1,null,null,null);t["default"]=g.exports;b()(g,"components",{QPage:r["a"],QTable:c["a"],QTr:d["a"],QTd:p["a"],QCheckbox:h["a"]})}}]);