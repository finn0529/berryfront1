(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0668":function(t,e,a){},"0c18":function(t,e,a){t.exports=a.p+"img/login_工作區域 1.e0cb2951.png"},5365:function(t,e,a){t.exports=a.p+"img/search_工作區域 1.5c72d0ff.png"},"6af0":function(t,e,a){t.exports=a.p+"img/berry.d19db741.png"},"713b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"mainLayout"}},[s("q-layout",[s("q-header",[s("q-toolbar",{staticClass:"fixed",staticStyle:{"z-index":"99"}},[s("q-btn",{staticClass:"lt-sm",attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(e){t.drawerLeft=!t.drawerLeft}}}),s("q-toolbar-title",[s("q-btn",{attrs:{flat:"",to:"/"}},[s("img",{attrs:{src:a("6af0"),width:"100px"}})])],1),s("div",{staticClass:"gt-xs"},[s("q-btn",{attrs:{flat:"",to:"/"}},[s("span",{staticStyle:{color:"rgb(250, 108, 132)"}},[t._v("首頁")])]),s("q-btn",{attrs:{flat:""}},[s("span",{staticStyle:{color:"rgb(250, 108, 132)"}},[t._v("最新消息")])]),s("q-btn",{attrs:{flat:"",to:"/product"}},[s("span",{staticStyle:{color:"rgb(250, 108, 132)"}},[t._v("所有商品")])]),s("q-btn",{attrs:{flat:""}},[s("span",{staticStyle:{color:"rgb(250, 108, 132)"}},[t._v("購物須知")])]),t.user.isLogin?t._e():s("q-btn",{attrs:{flat:"",round:""},on:{click:function(e){t.signin=!0}}},[s("img",{attrs:{src:a("0c18"),width:"25px"}})]),t.user.isLogin?s("q-btn-dropdown",{staticStyle:{color:"rgb(250, 108, 132)"},attrs:{flat:"",label:"會員管理"}},[s("q-list",[s("q-item",{attrs:{clickable:"",to:"/order"}},[s("q-item-section",[s("q-item-label",[t._v("我的訂單")])],1)],1),s("q-item",{attrs:{clickable:"",flat:""},on:{click:t.logout}},[s("q-item-section",[s("q-item-label",[t._v("登出")])],1)],1)],1)],1):t._e()],1),s("q-btn",{attrs:{flat:"",round:""}},[s("img",{attrs:{src:a("5365"),width:"25px"}})]),t.user.isLogin?s("q-btn",{attrs:{flat:"",round:"",to:"/cart"}},[s("img",{attrs:{src:a("9771"),width:"25px"}}),t.user.cart>=1?s("q-badge",{staticStyle:{position:"absolute",right:"-5px",top:"0"},attrs:{rounded:"",color:"red"}},[t._v(t._s(t.user.cart))]):t._e()],1):t._e(),s("q-dialog",{attrs:{persistent:""},model:{value:t.signin,callback:function(e){t.signin=e},expression:"signin"}},[s("q-card",{staticStyle:{"min-width":"350px"}},[s("q-form",{attrs:{align:"center"},on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[s("q-card-section",[s("div",{staticClass:"logo",attrs:{align:"center"}},[s("img",{attrs:{src:a("6af0"),width:"100px"}})])]),s("q-card-section",{staticClass:"q-pt-none"},[s("q-input",{attrs:{"label-color":"redpink",color:"redpink",label:"E-mail"},model:{value:t.signInForm.email,callback:function(e){t.$set(t.signInForm,"email",e)},expression:"signInForm.email"}}),s("q-input",{attrs:{type:"password","label-color":"redpink",color:"redpink",label:"Password"},model:{value:t.signInForm.password,callback:function(e){t.$set(t.signInForm,"password",e)},expression:"signInForm.password"}})],1),s("q-card-actions",{staticClass:"text-primary",attrs:{align:"center"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{color:"#ff7e8f"},attrs:{flat:"",label:"註冊帳號"},on:{click:function(e){t.signup=!0}}}),s("q-btn",{staticStyle:{color:"#ff7e8f"},attrs:{flat:"",label:"忘記密碼"}})],1),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mb-md",staticStyle:{background:"#ff7e8f",color:"white"},attrs:{label:"登入",type:"submit"}})],1),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{position:"absolute",right:"0",top:"0"},attrs:{flat:"",label:"X"}})],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:t.signup,callback:function(e){t.signup=e},expression:"signup"}},[s("q-card",{staticStyle:{"min-width":"350px"}},[s("q-form",{attrs:{align:"center"},on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)},reset:t.onReset}},[s("q-card-section",[s("div",{staticClass:"logo",attrs:{align:"center"}},[s("img",{attrs:{src:a("6af0"),width:"100px"}})])]),s("q-card-section",{staticClass:"q-pt-none"},[s("q-input",{attrs:{"label-color":"redpink",color:"redpink",label:"E-mail",rules:[function(e){return t.validator.isEmail(e)||"格式不正確"}]},model:{value:t.signUpForm.email,callback:function(e){t.$set(t.signUpForm,"email",e)},expression:"signUpForm.email"}}),s("q-input",{attrs:{type:"password","label-color":"redpink",color:"redpink",label:"密碼",rules:[function(t){return t.length>=4&&t.length<=20||"4至20個字"}]},model:{value:t.signUpForm.password,callback:function(e){t.$set(t.signUpForm,"password",e)},expression:"signUpForm.password"}}),s("q-input",{attrs:{type:"password","label-color":"redpink",color:"redpink",label:"確認密碼",rules:[function(e){return e===t.signUpForm.password||"與密碼不相同"}]},model:{value:t.signUpForm.passwordCheck,callback:function(e){t.$set(t.signUpForm,"passwordCheck",e)},expression:"signUpForm.passwordCheck"}}),s("q-input",{attrs:{"label-color":"redpink",color:"redpink",label:"姓"},model:{value:t.signUpForm.lastName,callback:function(e){t.$set(t.signUpForm,"lastName",e)},expression:"signUpForm.lastName"}}),s("q-input",{attrs:{"label-color":"redpink",color:"redpink",label:"名"},model:{value:t.signUpForm.firstName,callback:function(e){t.$set(t.signUpForm,"firstName",e)},expression:"signUpForm.firstName"}})],1),s("q-btn",{staticClass:"q-mb-md",staticStyle:{background:"#ff7e8f",color:"white"},attrs:{label:"註冊",type:"submit"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{position:"absolute",right:"40px",bottom:"25px",color:"rgb(143, 143, 143)"},attrs:{flat:"",label:"已經有帳號了",size:"6px"},on:{click:function(e){t.signin=!0}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{position:"absolute",right:"0",top:"0"},attrs:{flat:"",label:"X",type:"reset"}})],1)],1)],1),s("q-drawer",{attrs:{"show-if-above":"",elevated:"",width:200,breakpoint:3e3,"background-color":"redpink"},model:{value:t.drawerLeft,callback:function(e){t.drawerLeft=e},expression:"drawerLeft"}},[s("q-list",{staticStyle:{color:"white"}},[s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/","active-class":"white"}},[s("q-item-section",[t._v("首頁")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"white"}},[s("q-item-section",[t._v("最新消息")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"white",to:"/product"}},[s("q-item-section",[t._v("所有商品")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"white"}},[s("q-item-section",[t._v("購物須知")])],1),t.user.isLogin?s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"white",to:"/order"}},[s("q-item-section",[t._v("我的訂單")])],1):t._e(),t.user.isLogin?t._e():s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"white"},on:{click:function(e){t.signin=!0}}},[s("q-item-section",[t._v("登入/註冊")])],1),t.user.isLogin?s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"white"},on:{click:t.logout}},[s("q-item-section",[t._v("登出")])],1):t._e()],1)],1)],1)],1),s("q-page-container",[s("router-view")],1),s("q-footer",{staticClass:"text-center",staticStyle:{padding:"30px",height:"200px",background:"rgb(255, 171, 185)"}},[s("p",[t._v("關注我們")]),s("div",{staticClass:"footerBtn d-flex"},[s("q-btn",{attrs:{flat:"",round:""}},[s("i",{staticClass:"fa-brands fa-facebook fa-xl"})]),s("q-btn",{attrs:{flat:"",round:""}},[s("i",{staticClass:"fa-brands fa-instagram fa-xl"})]),s("q-btn",{attrs:{flat:"",round:""}},[s("i",{staticClass:"fa-brands fa-twitter fa-xl"})]),s("q-btn",{attrs:{flat:"",round:""}},[s("i",{staticClass:"fa-brands fa-pinterest fa-xl"})])],1),s("p",[t._v("© 2022 小莓波醬.")])])],1)],1)},i=[],r=a("f90c"),n=a.n(r),o={name:"MyLayout",data(){return{active:!1,rightDrawerOpen:!1,drawerLeft:!1,signin:!1,signup:!1,signInForm:{email:"",password:""},signUpForm:{email:"",password:"",passwordCheck:"",firstName:"",lastName:""},validator:n.a}},computed:{state(){return{password:0===this.signUpForm.password.length?null:this.signUpForm.password.length>=4&&this.signUpForm.password.length<=30}}},methods:{onReset(){this.signUpForm.email=null,this.signUpForm.password=null,this.signUpForm.passwordCheck=null,this.signUpForm.firstName=null,this.signUpForm.lastName=null},async register(){try{await this.api.post("/users",this.signUpForm),this.$q.notify({message:"註冊成功",type:"positive"}),this.onReset(),this.signup=!1,this.signin=!0}catch(t){this.$q.notify({message:t.response.data.message,type:"negative"}),console.log(t)}},async login(){await this.$store.dispatch("user/login",this.signInForm);const t=this.$store.getters["user/user"];this.signInForm.email=null,this.signInForm.password=null,t.isAdmin&&this.$router.push("/admin")},logout(){this.$store.dispatch("user/logout")},openLogin(){this.drawerLeft=!1,this.signin=!0}},async created(){this.$store.dispatch("user/getInfo")}},l=o,c=(a("83ec"),a("2877")),p=a("4d5a"),d=a("e359"),m=a("65c6"),u=a("9c40"),g=a("6ac5"),f=a("f20b"),b=a("1c1c"),w=a("66e5"),q=a("4074"),v=a("0170"),h=a("58a81"),k=a("24e8"),y=a("f09f"),x=a("0378"),F=a("a370"),_=a("27f9"),C=a("4b7e"),U=a("9404"),N=a("09e3"),Q=a("7ff0"),S=a("8572"),L=a("7f67"),I=a("714f"),$=a("eebe"),D=a.n($),B=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=B.exports;D()(B,"components",{QLayout:p["a"],QHeader:d["a"],QToolbar:m["a"],QBtn:u["a"],QToolbarTitle:g["a"],QBtnDropdown:f["a"],QList:b["a"],QItem:w["a"],QItemSection:q["a"],QItemLabel:v["a"],QBadge:h["a"],QDialog:k["a"],QCard:y["a"],QForm:x["a"],QCardSection:F["a"],QInput:_["a"],QCardActions:C["a"],QDrawer:U["a"],QPageContainer:N["a"],QFooter:Q["a"],QField:S["a"]}),D()(B,"directives",{ClosePopup:L["a"],Ripple:I["a"]})},"83ec":function(t,e,a){"use strict";a("0668")},9771:function(t,e,a){t.exports=a.p+"img/cart_工作區域 1.dadff021.png"}}]);