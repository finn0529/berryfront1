(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0668":function(t,e,s){},"0c18":function(t,e,s){t.exports=s.p+"img/login_工作區域 1.5ba09077.png"},5365:function(t,e,s){t.exports=s.p+"img/search_工作區域 1.12967d4f.png"},"713b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mainLayout"}},[a("q-layout",[a("q-header",[a("q-toolbar",{staticClass:"fixed",staticStyle:{"z-index":"99"}},[a("q-btn",{staticClass:"lt-sm",attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(e){t.drawerLeft=!t.drawerLeft}}}),a("q-toolbar-title",[a("q-btn",{attrs:{flat:"",to:"/"}},[a("img",{attrs:{src:s("ebd5"),width:"80px"}})])],1),a("div",{staticClass:"gt-xs"},[a("q-btn",{attrs:{flat:"",to:"/"}},[a("span",{staticStyle:{color:"#8ddcff"}},[t._v("首頁")])]),a("q-btn",{attrs:{flat:""}},[a("span",{staticStyle:{color:"#8ddcff"}},[t._v("最新消息")])]),a("q-btn",{attrs:{flat:"",to:"/product"}},[a("span",{staticStyle:{color:"#8ddcff"}},[t._v("所有商品")])]),a("q-btn",{attrs:{flat:""}},[a("span",{staticStyle:{color:"#8ddcff"}},[t._v("購物須知")])]),t.user.isLogin?t._e():a("q-btn",{attrs:{flat:"",round:""},on:{click:function(e){t.signin=!0}}},[a("img",{attrs:{src:s("0c18"),width:"25px"}})]),t.user.isLogin?a("q-btn-dropdown",{staticStyle:{color:"#8ddcff"},attrs:{flat:"",label:"會員管理"}},[a("q-list",[t.user.isAdmin?a("q-item",{attrs:{clickable:"",to:"/admin"}},[a("q-item-section",[a("q-item-label",[t._v("官網管理")])],1)],1):t._e(),a("q-item",{attrs:{clickable:"",to:"/order"}},[a("q-item-section",[a("q-item-label",[t._v("我的訂單")])],1)],1),a("q-item",{attrs:{clickable:"",flat:""},on:{click:t.logout}},[a("q-item-section",[a("q-item-label",[t._v("登出")])],1)],1)],1)],1):t._e()],1),a("q-btn",{attrs:{flat:"",round:""}},[a("img",{attrs:{src:s("5365"),width:"25px"}})]),t.user.isLogin?a("q-btn",{attrs:{flat:"",round:"",to:"/cart"}},[a("img",{attrs:{src:s("9771"),width:"25px"}}),t.user.cart>=1?a("q-badge",{staticStyle:{position:"absolute",right:"-5px",top:"0"},attrs:{rounded:"",color:"red"}},[t._v(t._s(t.user.cart))]):t._e()],1):t._e(),a("q-dialog",{attrs:{persistent:""},model:{value:t.signin,callback:function(e){t.signin=e},expression:"signin"}},[a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-form",{attrs:{align:"center"},on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[a("q-card-section",[a("div",{staticClass:"logo",attrs:{align:"center"}},[a("img",{attrs:{src:s("ebd5"),width:"100px"}})])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-input",{attrs:{"label-color":"redpink",color:"redpink",label:"E-mail"},model:{value:t.signInForm.email,callback:function(e){t.$set(t.signInForm,"email",e)},expression:"signInForm.email"}}),a("q-input",{attrs:{type:"password","label-color":"redpink",color:"redpink",label:"Password"},model:{value:t.signInForm.password,callback:function(e){t.$set(t.signInForm,"password",e)},expression:"signInForm.password"}})],1),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"center"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{color:"#8bb4cf"},attrs:{flat:"",label:"註冊帳號"},on:{click:function(e){t.signup=!0}}}),a("q-btn",{staticStyle:{color:"#8bb4cf"},attrs:{flat:"",label:"忘記密碼"}})],1),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mb-md",staticStyle:{background:"#8bb4cf",color:"white"},attrs:{label:"登入",type:"submit"}})],1),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{position:"absolute",right:"0",top:"0"},attrs:{flat:"",label:"X"}})],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.signup,callback:function(e){t.signup=e},expression:"signup"}},[a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-form",{attrs:{align:"center"},on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)},reset:t.onReset}},[a("q-card-section",[a("div",{staticClass:"logo",attrs:{align:"center"}},[a("img",{attrs:{src:s("ebd5"),width:"100px"}})])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-input",{attrs:{"label-color":"redpink",color:"redpink",label:"E-mail",rules:[function(e){return t.validator.isEmail(e)||"格式不正確"}]},model:{value:t.signUpForm.email,callback:function(e){t.$set(t.signUpForm,"email",e)},expression:"signUpForm.email"}}),a("q-input",{attrs:{type:"password","label-color":"redpink",color:"redpink",label:"密碼",rules:[function(t){return t.length>=4&&t.length<=20||"4至20個字"}]},model:{value:t.signUpForm.password,callback:function(e){t.$set(t.signUpForm,"password",e)},expression:"signUpForm.password"}}),a("q-input",{attrs:{type:"password","label-color":"redpink",color:"redpink",label:"確認密碼",rules:[function(e){return e===t.signUpForm.password||"與密碼不相同"}]},model:{value:t.signUpForm.passwordCheck,callback:function(e){t.$set(t.signUpForm,"passwordCheck",e)},expression:"signUpForm.passwordCheck"}}),a("q-input",{attrs:{"label-color":"redpink",color:"redpink",label:"姓"},model:{value:t.signUpForm.lastName,callback:function(e){t.$set(t.signUpForm,"lastName",e)},expression:"signUpForm.lastName"}}),a("q-input",{attrs:{"label-color":"redpink",color:"redpink",label:"名"},model:{value:t.signUpForm.firstName,callback:function(e){t.$set(t.signUpForm,"firstName",e)},expression:"signUpForm.firstName"}})],1),a("q-btn",{staticClass:"q-mb-md",staticStyle:{background:"#8bb4cf",color:"white"},attrs:{label:"註冊",type:"submit"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{position:"absolute",right:"40px",bottom:"25px",color:"rgb(143, 143, 143)"},attrs:{flat:"",label:"已經有帳號了",size:"6px"},on:{click:function(e){t.signin=!0}}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{position:"absolute",right:"0",top:"0"},attrs:{flat:"",label:"X",type:"reset"}})],1)],1)],1),a("q-drawer",{attrs:{"show-if-above":"",elevated:"",width:200,breakpoint:3e3,"background-color":"redpink"},model:{value:t.drawerLeft,callback:function(e){t.drawerLeft=e},expression:"drawerLeft"}},[a("q-list",{staticStyle:{color:"white"}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/","active-class":"white"}},[a("q-item-section",[t._v("首頁")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"white"}},[a("q-item-section",[t._v("最新消息")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"white",to:"/product"}},[a("q-item-section",[t._v("所有商品")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"white"}},[a("q-item-section",[t._v("購物須知")])],1),t.user.isLogin?a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"white",to:"/order"}},[a("q-item-section",[t._v("我的訂單")])],1):t._e(),t.user.isLogin?t._e():a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"white"},on:{click:function(e){t.signin=!0}}},[a("q-item-section",[t._v("登入/註冊")])],1),t.user.isLogin?a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"white"},on:{click:t.logout}},[a("q-item-section",[t._v("登出")])],1):t._e()],1)],1)],1)],1),a("q-page-container",[a("router-view"),a("q-footer",{staticClass:"text-center",staticStyle:{padding:"30px",height:"200px",background:"#8bb4cf"}},[a("p",[t._v("關注我們")]),a("div",{staticClass:"footerBtn d-flex"},[a("q-btn",{attrs:{flat:"",round:""}},[a("i",{staticClass:"fa-brands fa-facebook fa-xl"})]),a("q-btn",{attrs:{flat:"",round:""}},[a("i",{staticClass:"fa-brands fa-instagram fa-xl"})]),a("q-btn",{attrs:{flat:"",round:""}},[a("i",{staticClass:"fa-brands fa-twitter fa-xl"})]),a("q-btn",{attrs:{flat:"",round:""}},[a("i",{staticClass:"fa-brands fa-pinterest fa-xl"})])],1),a("p",[t._v("© 2022 FinnFlip.")])])],1)],1)],1)},i=[],r=s("f90c"),n=s.n(r),o={name:"MyLayout",data(){return{active:!1,rightDrawerOpen:!1,drawerLeft:!1,signin:!1,signup:!1,signInForm:{email:"",password:""},signUpForm:{email:"",password:"",passwordCheck:"",firstName:"",lastName:""},validator:n.a}},computed:{state(){return{password:0===this.signUpForm.password.length?null:this.signUpForm.password.length>=4&&this.signUpForm.password.length<=30}}},methods:{onReset(){this.signUpForm.email=null,this.signUpForm.password=null,this.signUpForm.passwordCheck=null,this.signUpForm.firstName=null,this.signUpForm.lastName=null},async register(){try{await this.api.post("/users",this.signUpForm),this.$q.notify({message:"註冊成功",type:"positive"}),this.onReset(),this.signup=!1,this.signin=!0}catch(t){this.$q.notify({message:t.response.data.message,type:"negative"}),console.log(t)}},async login(){await this.$store.dispatch("user/login",this.signInForm);const t=this.$store.getters["user/user"];this.signInForm.email=null,this.signInForm.password=null,t.isAdmin&&this.$router.push("/admin")},logout(){this.$store.dispatch("user/logout")},openLogin(){this.drawerLeft=!1,this.signin=!0}},async created(){this.$store.dispatch("user/getInfo")}},l=o,c=(s("83ec"),s("2877")),p=s("4d5a"),d=s("e359"),m=s("65c6"),u=s("9c40"),g=s("6ac5"),b=s("f20b"),f=s("1c1c"),q=s("66e5"),w=s("4074"),v=s("0170"),h=s("58a81"),k=s("24e8"),F=s("f09f"),y=s("0378"),x=s("a370"),_=s("27f9"),C=s("4b7e"),U=s("9404"),N=s("09e3"),Q=s("7ff0"),S=s("8572"),L=s("7f67"),I=s("714f"),$=s("eebe"),D=s.n($),B=Object(c["a"])(l,a,i,!1,null,null,null);e["default"]=B.exports;D()(B,"components",{QLayout:p["a"],QHeader:d["a"],QToolbar:m["a"],QBtn:u["a"],QToolbarTitle:g["a"],QBtnDropdown:b["a"],QList:f["a"],QItem:q["a"],QItemSection:w["a"],QItemLabel:v["a"],QBadge:h["a"],QDialog:k["a"],QCard:F["a"],QForm:y["a"],QCardSection:x["a"],QInput:_["a"],QCardActions:C["a"],QDrawer:U["a"],QPageContainer:N["a"],QFooter:Q["a"],QField:S["a"]}),D()(B,"directives",{ClosePopup:L["a"],Ripple:I["a"]})},"83ec":function(t,e,s){"use strict";s("0668")},9771:function(t,e,s){t.exports=s.p+"img/cart_工作區域 1.d1195978.png"},ebd5:function(t,e,s){t.exports=s.p+"img/finnflip_工作區域 1.e856eb77.png"}}]);